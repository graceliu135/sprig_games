/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: UltimateTicTacToe
@author: Grace
@tags: ['tictactoe', 'puzzle', 'two-player']
@addedOn: 2024-07-20
*/

const player = "p"
const x = "x"
const o = "o"
const wall = "w"
const sides = "s"

setLegend(
  [player, bitmap`
5555555555555555
5777777777777775
5755555555555575
5757777777777575
5757755555577575
5757575555757575
5757557557557575
5757555775557575
5757555775557575
5757557557557575
5757575555757575
5757755555577575
5757777777777575
5755555555555575
5777777777777775
5555555555555555`],
  [x, bitmap`
33............33
333..........333
.333........333.
..333......333..
...333....333...
....333..333....
.....333333.....
......3333......
......3333......
.....333333.....
....333..333....
...333....333...
..333......333..
.333........333.
333..........333
33............33`],
  [o, bitmap`
...4444444444...
..444444444444..
.44444444444444.
44444......44444
4444........4444
444..........444
444..........444
444..........444
444..........444
444..........444
444..........444
4444........4444
44444......44444
.44444444444444.
..444444444444..
...4444444444...`],
  [wall, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`],
  [sides, bitmap`
0000000000000000
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0..............0
0000000000000000`],
)

setSolids([player, wall]);

let level = 0
const levels = [
  map`
...w...w...
...w...w...
...w...w...
wwwwwwwwwww
...w...w...
...w.p.w...
...w...w...
wwwwwwwwwww
...w...w...
...w...w...
...w...w...`,
]

// const levels = [
//   map`
// .....w.....w.....
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .....w.....w.....
// wwwwwwwwwwwwwwwww
// .....w.....w.....
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .....w.....w.....
// wwwwwwwwwwwwwwwww
// .....w.....w.....
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .sss.w.sss.w.sss.
// .....w.....w.....`,
//   map`
// sss
// sss
// sss`,
// ]

setMap(levels[level])

setBackground(sides)

let gameover = false;

let bigBoard = [
  ["", "", ""],
  ["", "", ""],
  ["", "", ""]
];

let smallBoard = [
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
  [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""]
  ],
];

let currentBoard = 4;
let currentTurn = true;


onInput("w", () => {
  if (!gameover) {
    getFirst(player).y -= 1;
  }
});

onInput("a", () => {
  if (!gameover) {
    getFirst(player).x -= 1;
  }
});

onInput("s", () => {
  if (!gameover) {
    getFirst(player).y += 1;
  }
});

onInput("d", () => {
  if (!gameover) {
    getFirst(player).x += 1;
  }
});

onInput("j", () => {
  if (gameover) {
  }
});
